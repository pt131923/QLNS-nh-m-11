<div class="container-fluid p-4">
  <h2 class="mb-4">ğŸ“ {{ 'contact.title' | translate }}</h2>

  <p>{{ 'contact.contactInfo' | translate }}</p>

  <ul class="list-group mb-4">
    <li class="list-group-item">
      ğŸ“§ {{ 'contact.email' | translate }}:
      <a href="mailto:PhongNH@HR-System-HUCE.com">
        CÃ´ng ty TNHH 1 thÃ nh viÃªn ÄHXD.com
      </a>
    </li>

    <li class="list-group-item">
      â˜ï¸ {{ 'contact.phone' | translate }}: <b>028-1234-5678</b>
    </li>

    <li class="list-group-item">
      ğŸ¢ {{ 'contact.office' | translate }}: 55 Giáº£i PhÃ³ng, Quáº­n Hai BÃ  TrÆ°ng, HÃ  Ná»™i
    </li>
  </ul>

  <h5>{{ 'contact.sendRequest' | translate }}</h5>

  <form [formGroup]="contactForm" (ngSubmit)="onSubmit()" novalidate>

    <!-- Name -->
    <div class="mb-3">
      <label class="form-label">{{ 'contact.name' | translate }}</label>
      <input
        type="text"
        formControlName="Name"
        class="form-control"
        [ngClass]="{ 'is-invalid': f['Name'].touched && f['Name'].errors }"
      />
      <div *ngIf="f['Name'].touched && f['Name'].errors" class="invalid-feedback">
        <div *ngIf="f['Name'].errors?.['required']">{{ 'contact.nameRequired' | translate }}</div>
        <div *ngIf="f['Name'].errors?.['pattern']">{{ 'contact.namePattern' | translate }}</div>
      </div>
    </div>

    <!-- Email -->
    <div class="mb-3">
      <label class="form-label">{{ 'contact.emailLabel' | translate }}</label>
      <input
        type="email"
        formControlName="Email"
        class="form-control"
        [ngClass]="{ 'is-invalid': f['Email'].touched && f['Email'].errors }"
      />
      <div *ngIf="f['Email'].touched && f['Email'].errors" class="invalid-feedback">
        <div *ngIf="f['Email'].errors?.['required']">{{ 'contact.emailRequired' | translate }}</div>
        <div *ngIf="f['Email'].errors?.['email']">{{ 'contact.emailInvalid' | translate }}</div>
      </div>
    </div>

    <!-- Phone -->
    <div class="mb-3">
      <label class="form-label">{{ 'contact.phoneNumber' | translate }}</label>
      <input
        type="text"
        formControlName="PhoneNumber"
        class="form-control"
        [ngClass]="{ 'is-invalid': f['PhoneNumber'].touched && f['PhoneNumber'].errors }"
      />
      <div *ngIf="f['PhoneNumber'].touched && f['PhoneNumber'].errors" class="invalid-feedback">
        <div *ngIf="f['PhoneNumber'].errors?.['required']">{{ 'contact.phoneRequired' | translate }}</div>
        <div *ngIf="f['PhoneNumber'].errors?.['pattern']">{{ 'contact.phonePattern' | translate }}</div>
      </div>
    </div>

    <!-- Message -->
    <div class="mb-3">
      <label class="form-label">{{ 'contact.message' | translate }}</label>
      <textarea
        formControlName="Message"
        class="form-control"
        rows="4"
        [ngClass]="{ 'is-invalid': f['Message'].touched && f['Message'].errors }"
      ></textarea>
      <div *ngIf="f['Message'].touched && f['Message'].errors" class="invalid-feedback">
        <div *ngIf="f['Message'].errors?.['required']">{{ 'contact.messageRequired' | translate }}</div>
        <div *ngIf="f['Message'].errors?.['maxLength']">{{ 'contact.messageMaxLength' | translate }}</div>
      </div>
      <small class="text-muted">
        {{ contactForm.get('Message')?.value?.length || 0 }}/1000 {{ 'contact.characters' | translate }}
      </small>
    </div>

    <!-- CreatedAt -->
    <div class="mb-3">
      <label class="form-label">{{ 'contact.createdAt' | translate }}</label>
      <input
        type="date"
        class="form-control"
        formControlName="CreatedAt"
      />
      <div *ngIf="f['CreatedAt'].touched && f['CreatedAt'].errors" class="invalid-feedback">
        <div *ngIf="f['CreatedAt'].errors?.['required']">{{ 'contact.createdAtRequired' | translate }}</div>
      </div>
    </div>

    <!-- Buttons -->
    <button type="submit" class="btn btn-success" [disabled]="isSubmitting">
      <span *ngIf="!isSubmitting">{{ 'contact.sendContact' | translate }}</span>
      <span *ngIf="isSubmitting" class="spinner-border spinner-border-sm"></span>
      <span *ngIf="isSubmitting"> {{ 'common.sending' | translate }}</span>
    </button>

    <button
      type="button"
      class="btn btn-secondary ms-2"
      (click)="viewContactHistory()"
    >
      {{ 'contact.viewContactHistory' | translate }}
    </button>

  </form>
</div>
